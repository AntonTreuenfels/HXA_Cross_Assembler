; Hobby Cross-Assembler Test 301
; Segments\Segments Re-Used
; ok: correct addresses of absolute and relative data (16-bit)

; by Anton Treuenfels

; first created: 06/22/05
; last revised:  06/22/05

; no errors to detect

        .listfile
        .errfile

; -------------------------------

        .cpu    "T_16_L"    ; required psop
;        .org    $1000       ; can't use outside of explicit segment

; -------------------------------

; first explicit segment *must* be absolute

        .segment	abs1

        .org    $1000       ; ORG before any data makes segment absolute

        .byte   $00

        .ends

; another segment

        .segment	abs2

        .org    $2000       ; absolute

        .byte   $00

        .ends

; another segment

        .segment	rel2_1

        .byte   $01         ; relative

        .ends

; another segment

        .segment	abs3

        .org    $3000       ; absolute

        .byte   $00

        .ends

; another segment

        .segment	rel3_1

        .byte   $01         ; relative

        .ends

; another segment

        .segment	rel3_2

        .byte   $02         ; relative

        .ends

; -------------------------------

; no more new segments - re-use existing segments
; - note at most one ORG is allowed for any segment (which makes it absolute)
; - need another ORG ? Use another segment (there's lots)

        .segment	abs1

        .byte   $00

        .ends

; another segment

        .segment	abs2

        .byte   $00

        .ends

; another segment

        .segment	rel2_1

        .byte   $01         ; relative

        .ends

; another segment

        .segment	abs3

        .byte   $00

        .ends

; another segment

        .segment	rel3_1

        .byte   $01         ; relative

        .ends

; another segment

        .segment	rel3_2

        .byte   $02         ; relative

        .ends

; -------------------------------

        .end
